apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
- 01-postgres.yaml
- 02-sonataflow-platform.yaml
- 03-newsletter-subs-service.yaml

images:
- name: postgres
  newName: postgres
  newTag: 13.2-alpine
- name: newsletter-subs-service
  newName: quay.io/ricardozanini/sonataflow-newsletter-subs-service
  newTag: "2.0"

secretGenerator:
  - name: postgres-secrets
    options:
      disableNameSuffixHash: true
    literals:
      - POSTGRESQL_USER=sonataflow
      - POSTGRESQL_PASSWORD=sonataflow
      - POSTGRESQL_DATABASE=sonataflow
      - PGDATA=/var/lib/pgsql/data
